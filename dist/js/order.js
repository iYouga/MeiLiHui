!function(e){e(function(){e(".address_list").on("click",".close",function(){e(this).parents("li").remove()}),e(".address_list").on("click",".set_default",function(){e(".set_default_ok").html("设置为默认地址").addClass("set_default"),e(this).html("默认地址").removeClass("set_default"),e(this).parents("li").addClass("default_add").siblings().removeClass("default_add"),e(".default").removeClass("default_checked").eq(e(this).parents("li").index()).addClass("default_checked")}),e(".address_list").on("click",".edit",function(){var t=e(this).parents("li").find(".name").html(),s=e(this).parents("li").find(".phone").html(),c=e(this).parents("li").find(".province").html(),d=e(this).parents("li").find(".city").html(),a=e(this).parents("li").find(".area").html(),i=e(this).parents("li").find(".detailed").html(),n=e(this).parents("li").find(".postcode").html();e("#name").val(t),e("#phone").val(s),e(".checked_province").html(c),e(".checked_city").html(d),e(".checked_area").html(a),e("#detailed").val(i),e("#postcode").val(n),e(".use_new").hide(),e(".address_list").hide(),e(".add_address").show()}),e(".use_new").click(function(){e(this).hide(),e(".address_list").hide(),e(".add_address").show()}),e(".cancel").click(function(){e("#name").val(""),e("#phone").val(""),e(".checked_province").html("请选择省"),e(".checked_city").html("请选择市"),e(".checked_area").html("请选择区县"),e("#detailed").val(""),e("#postcode").val(""),e(".use_new").show(),e(".address_list").show(),e(".add_address").hide(),e(".please").hide()}),e("#detailed").focus(function(){"请选择省"===e(".checked_province").html()&&e(".in_add").find(".please").show()}),e(".confirm").click(function(){if(""===e("#name").val()&&e("#name").next().show(),""===e("#phone").val()&&e("#phone").next().show(),"请选择省"!==e(".checked_province").html()&&"请选择市"!==e(".checked_city").html()&&"请选择区县"!==e(".checked_area").html()||e(".in_add").find(".please").show(),""===e("#detailed").val()&&e("#detailed").next().show(),""===e("#postcode").val()&&(e("#postcode").next().show(),e("#postcode").nextAll("p").hide()),""!==e("#name").val()&&""!==e("#phone").val()&&"请选择省"!==e(".checked_province").html()&&""!==e("#detailed").val()&&""!==e("#postcode").val()){var t=e("#name").val(),s=e("#phone").val(),c=e("#detailed").val(),d=e("#postcode").val();e("<li>").html('<p class="info"><span class="set_default_ok set_default">设置为默认地址</span><a href="javascript:;" class="close">&times;</a><a href="javascropt:;" class="edit">编辑</a></p><p><span class="name">'+t+'<span class="phone">'+s+'</span></p><p><span class="province">'+e(".checked_province").html()+'</span><span class="city">'+e(".checked_city").html()+'</span><span class="area">'+e(".checked_area").html()+'</span><span class="detailed">'+c+'</span></p><p class="postcode">'+d+'</p><div class="default"></div>').appendTo(e(".address_list")),e(".address_list").show(),e(".use_new").show(),e(".add_address").hide(),"checked"===e(".is_default").attr("checked")&&(e(".address_list li:last()").addClass("default_add").find(".set_default").html("默认地址").removeClass("set_default").end().find(".default").addClass("default_checked"),e(".address_list li:last()").siblings().removeClass("default_add").find(".set_default_ok").html("设置为默认地址").addClass("set_default").end().find(".default").removeClass("default_checked"))}}),e("#phone").blur(function(){/^1\d{10}$/.test(e("#phone").val())?e("#phone").next().hide():""===e("#phone").val()?e("#phone").next().show().html("请输入手机号"):e("#phone").next().show().html("电话号码有误，请输入正确的电话号码!")}),e("#postcode").blur(function(){/^\d{6}$/.test(e("#postcode").val())?(e("#postcode").next().hide(),e("#postcode").nextAll("p").show()):""===e("#postcode").val()?(e("#postcode").next().show().html("请输入邮政编码"),e("#postcode").nextAll("p").hide()):(e("#postcode").next().show().html("邮编有误，请输入正确邮编!"),e("#postcode").nextAll("p").hide())}),e(".select_add li").on("click",".close_select",function(){e(this).parent().hide()}),e(document).click(function(){e(".outer").hide()}),e(".select_down").click(function(){event.stopPropagation(),e(".outer").hide(),e(this).next().show()}),e(".in_province").find("li").click(function(){e(".checked_province").html(e(this).html()),e(".checked_city").html("请选择市"),e(".checked_area").html("请选择区县"),e(".in_city .bar").hide(),e(".in_city").find("."+e(this).attr("class")).show()}),e(".in_city").find("li").click(function(){e(".checked_city").html(e(this).html()),e(".in_area .bar").hide(),e(".in_area").find("."+e(this).attr("class")).show()}),e(".in_area").find("li").click(function(){e(".checked_area").html(e(this).html())}),e(".way_box").on("click",".way",function(){e(".pay_method").show().find(".way").css("background",e(this).css("background")),e(".check_way").hide(),e(".to_top").hide(),e(".to_down").show()}),e(".to_down").click(function(){e(".check_way").show(),e(".to_top").show(),e(this).hide()}),e(".to_top").click(function(){e(".check_way").hide(),e(".to_down").show(),e(this).hide()}),e(".is_invoice").on("click","input",function(){"checked"===e("#no_invoice").attr("checked")&&e(".invoice_class").hide(),"checked"===e("#e_invoice").attr("checked")&&e(".invoice_class").show().find("p").show(),"checked"===e("#p_invoice").attr("checked")&&e(".invoice_class").show().find("p").hide()}),e(".invoice_class").on("click","button",function(){e(".invoice_class button").removeClass("button_checked"),e(this).addClass("button_checked")}),e(".company_invoice").click(function(){e(".company").show()}),e(".person").click(function(){e(".company").hide()}),e(".company_name").blur(function(){""===e(this).val()&&e(".comany_name_info").show()})})}(jQuery);